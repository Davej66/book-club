{% extends "base.html" %}
{% block content %}

<h3 class = "black-text center-align" > Edit Book </h3 >

<div class = "row card-panel grey lighten-5 " >
    <form class = "col s12" method = "POST" action = "{{ url_for('edit_book', book_id=book._id) }}" >
     <!--category selection -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-folder-open prefix light-blue-text text-darken-4" > </i >
                <select id = "category_name" name = "category_name" class = "validate" required >
                    <option value = "" disabled > Choose category </option >
                    {% for category in categories %}
                        {% if category.category_name == book.category_name %}
                            <option value = "{{ category.category_name }}" selected > {{category.category_name}} </option >
                        {% else %}
                            <option value = "{{ category.category_name }}" > {{category.category_name}} </option >
                        {% endif %}
                    {% endfor %}
                </select >
                <label for = "category_name" class = "black-text" > Book Category </label >
            </div >
        </div >
        <!--book name -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-pencil-alt prefix light-blue-text text-darken-4" > </i >
                <input id = "book_name" name = "book_name" minlength = "5" maxlength = "24"
                    value = "{{ book.book_name }}" type = "text" class = "validate"
                    required >
                <label for = "book_name" class = "black-text" > Book Name </label >
            </div >
        </div >
        <!--book author -->
        <div class = "row" >
            <div class = "input-field col s12" class = "black-text" >
                <i class = "fas fa-pencil-alt prefix light-blue-text text-darken-4" > </i >
                <input id = "book_author" name = "book_author" minlength = "5" maxlength = "50"
                    value = "{{ book.book_author }}" type = "text" class = "validate" required >
                <label for = "book_author" class = "black-text" > Book Author </label >
            </div >
        </div >
        <!--task description -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-align-left prefix light-blue-text text-darken-4" > </i >
                <textarea id = "book_description" name = "book_description" minlength = "5" maxlength = "200"
                    class = "materialize-textarea validate" required >
                {{- book.book_description -}}
                </textarea >
                <label for = "book_description" class = "black-text" > Book Description </label >
            </div >
        </div >
        <!-- is bestseller toggle -->
        <div class = "row" >
           <div class = "input-field col-12" >
                <div class = "switch" >
                    <i class = "fas fa-exclamation-circle prefix light-blue-text text-darken-4" > </i >
                    <label for = "is_bseller"class = "black-text" >
                        {% if book.is_bseller == "on" %}
                            <input type = "checkbox" id = "is_bseller" name = "is_bseller" checked >
                        {% else %}
                            <input type = "checkbox" id = "is_bseller" name = "is_bseller" >
                        {% endif %}
                        <span class = "lever" > </span >
                        Bestseller
                    </label >
                </div >
            </div >
        </div >
        <!--book pages -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-pencil-alt prefix light-blue-text text-darken-4" ></i>
                <input id = "book_pages" name ="book_pages" minlength="1" maxlegth="5" value="{{ book.book_pages }}" type="text" class="validate"
                  required >
                <label for = "book_pages" class ="black-text">Number of Pages</label>
            </div >
        </div >
        <!--isbn 10 -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-pencil-alt prefix light-blue-text text-darken-4" ></i>
                <input id = "book_isbn" name ="book_isbn" minlength="13" maxlegth="13" value="{{ book.book_isbn }}" type="text" class="validate"
                  required >
                <label for = "book_isbn" class ="black-text">ISBN -13</label>
            </div >
        </div >
        <!--book cover -->
        <div class = "row" >
            <div class = "input-field col s12" >
                <i class = "fas fa-pencil-alt prefix light-blue-text text-darken-4" ></i>
                <input id = "book_cover" name ="book_cover" minlength="13" maxlegth="100" value="{{ book.book_cover }}" type="text" class="validate"
                  required >
                <label for = "book_cover" class ="black-text">Book cover </label>
            </div >
        </div >
        <!--submit button -->
        <div class = "row" >
            <div class = "col-12 center-align" >
             <!--cancel button-->
                <a href = "{{ url_for('get_books') }}" class ="btn-large red ">
                    Cancel <i class = "fas fa-times-circle right"></i>
                </a >
                <button type = "submit" class ="btn-large light-blue darken-1 ">
                    Edit Task <i class = "fas fa-edit right"></i>
                </button >
        <div >
    </form >
</div >

{% endblock %}